wish =

bundle the .d.ts of all prod deps

why?

maximize portable types

our consumers repeatedly see issues with transitive .d.ts consumption


e.g.,

simple-log-methods -> as-procedure -> rhachet -> rhachet-roles-bhrain

at rhachet-roles-brain, we get errors such as


      src/domain.roles/thinker/skills/brief.articulate/stepArticulate.skill.ts:11:14 - error TS2742: The inferred type of 'SKILL_ARTICULATE' cannot be named without a reference to '.pnpm/simple-log-methods@0.6.9/node_modules/simple-log-methods'. This is likely not portable. A type annotation is necessary.

      11 export const SKILL_ARTICULATE = genRoleSkill({


because genRoleSkill leverages ContextLogTrail

which is re-exported by as-procedure from simple-log-methods

---

we want to ensure that all re-exported types are maximally portable

based on what we found in .agent/repo=.this/role=any/briefs/tool.tsdown.dts-bundling.md

we should be able to use tsdown to bundle those typedefs

to eliminate this transitive typeusage issue

---

ideally, we could come up with a way to automatically detect forwarded types and always bundle them

seems like this is only an issue with "forwareded" types?
